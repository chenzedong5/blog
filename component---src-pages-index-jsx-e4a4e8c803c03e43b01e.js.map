{"version":3,"sources":["webpack:///./src/components/Nav.jsx","webpack:///./src/components/Home.jsx","webpack:///./src/pages/index.jsx","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/_array-fill.js","webpack:///./src/components/nav.module.scss","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.array.fill.js"],"names":["Nav","props","useState","openList","setOpenList","handleOpenList","useCallback","e","nativeEvent","stopImmediatePropagation","toggle","console","log","useEffect","document","addEventListener","removeEventListener","list","useMemo","key","to","className","style","wrap","onClick","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","slides","city","country","img","CitiesSlider","IMAGE_PARTS","changeTO","AUTOCHANGE_TIME","state","activeSlide","prevSlide","sliderReady","componentWillUnmount","window","clearTimeout","this","componentDidMount","runAutochangeTO","setTimeout","setState","changeSlides","change","length","render","classNames","map","slide","index","split","l","React","cloneElement","children","Array","fill","x","i","backgroundImage","Component","IndexPage","title","Home","hasOwn","hasOwnProperty","classes","arguments","arg","argType","push","isArray","inner","apply","call","join","module","exports","toObject","toAbsoluteIndex","toLength","value","O","aLen","undefined","end","endPos","$export","P"],"mappings":"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","file":"component---src-pages-index-jsx-e4a4e8c803c03e43b01e.js","sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { Link } from \"gatsby\"\nimport style from \"./nav.module.scss\";\nconst Nav = props => {\n  const [openList, setOpenList] = useState(false)\n\n  const handleOpenList = useCallback(e => {\n    // \n    e.nativeEvent.stopImmediatePropagation()\n    setOpenList(true)\n  }, [openList])\n\n  const toggle=useCallback(e=>{\n    console.log('handleOpenList')\n    setOpenList(false)\n  },[])\n\n  useEffect(()=>{\n    document.addEventListener(\"click\",toggle)\n    return ()=>{\n      document.removeEventListener(\"click\",toggle)\n    }\n  },[])\n\n  const list = useMemo(() => (\n    <ul>\n      <li key='blog'>\n        <Link to='/blog'>博客</Link>\n      </li>\n      <li key='tool'>\n        <Link to='/tool'>命令行工具</Link>\n      </li>\n    </ul>\n  ))\n\n  return useMemo(() => (\n    <div className={style.wrap} onClick={handleOpenList} onMouseEnter={props.handleMouseEnter} onMouseLeave={props.handleMouseLeave}>\n      <button>\n        More\n      </button>\n      {openList && list}\n    </div>\n  ), [openList])\n}\n\nexport default Nav","import React from \"react\";\nimport './home.scss';\nimport classNames from \"classnames\";\n\nconst slides = [\n  {\n    city: 'Paris',\n    country: 'France',\n    img: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/paris.jpg',\n  },\n  {\n    city: 'Singapore',\n    img: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/singapore.jpg',\n  },\n  {\n    city: 'Prague',\n    country: 'Czech Republic',\n    img: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/prague.jpg',\n  },\n  {\n    city: 'Amsterdam',\n    country: 'Netherlands',\n    img: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/amsterdam.jpg',\n  },\n  {\n    city: 'Moscow',\n    country: 'Russia',\n    img: 'https://s3-us-west-2.amazonaws.com/s.cdpn.io/142996/moscow.jpg',\n  },\n];\n\nclass CitiesSlider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.IMAGE_PARTS = 4;\n\n    this.changeTO = null;\n    this.AUTOCHANGE_TIME = 4000;\n\n    this.state = { activeSlide: -1, prevSlide: -1, sliderReady: false };\n  }\n\n  componentWillUnmount() {\n    window.clearTimeout(this.changeTO);\n  }\n\n  componentDidMount() {\n    this.runAutochangeTO();\n    setTimeout(() => {\n      this.setState({ activeSlide: 0, sliderReady: true });\n    }, 0);\n  }\n\n  runAutochangeTO() {\n    this.changeTO = setTimeout(() => {\n      this.changeSlides(1);\n      this.runAutochangeTO();\n    }, this.AUTOCHANGE_TIME);\n  }\n\n  changeSlides(change) {\n    window.clearTimeout(this.changeTO);\n    const { length } = slides;\n    const prevSlide = this.state.activeSlide;\n    let activeSlide = prevSlide + change;\n    if (activeSlide < 0) activeSlide = length - 1;\n    if (activeSlide >= length) activeSlide = 0;\n    this.setState({ activeSlide, prevSlide });\n  }\n\n  render() {\n    const { activeSlide, prevSlide, sliderReady } = this.state;\n    return (\n      <div className='home-layout'>\n      <div className={classNames('slider', { 's--ready': sliderReady })}>\n        <p className=\"slider__top-heading\">Travelers</p>\n        <div className=\"slider__slides\">\n          {slides.map((slide, index) => (\n            <div\n              className={classNames('slider__slide', { 's--active': activeSlide === index, 's--prev': prevSlide === index })}\n              key={slide.city}\n            >\n              <div className=\"slider__slide-content\">\n                <h3 className=\"slider__slide-subheading\">{slide.country || slide.city}</h3>\n                <h2 className=\"slider__slide-heading\">\n                  {slide.city.split('').map(l => <span>{l}</span>)}\n                </h2>\n                <div className=\"slider__slide-readmore\">{React.cloneElement(this.props.children,{\n                  handleMouseEnter:()=>{\n                    window.clearTimeout(this.changeTO);\n                  },\n                  handleMouseLeave:()=>{\n                    this.runAutochangeTO()\n                  }\n                }) }</div>\n              </div>\n              <div className=\"slider__slide-parts\" onMouseEnter>\n                {[...Array(this.IMAGE_PARTS).fill()].map((x, i) => (\n                  <div className=\"slider__slide-part\" key={i}>\n                    <div className=\"slider__slide-part-inner\" style={{ backgroundImage: `url(${slide.img})` }} />\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"slider__control\" onClick={() => this.changeSlides(-1)} />\n        <div className=\"slider__control slider__control--right\" onClick={() => this.changeSlides(1)} />\n      </div>\n      </div>\n    );\n  }\n}\n\nexport default CitiesSlider\n","import React from \"react\"\nimport Layout from \"../components/layout.jsx\"\nimport SEO from \"../components/seo.jsx\";\nimport Nav from \"../components/Nav\"\nimport Home from \"../components/Home\"\n\nconst IndexPage = () => (\n  <Layout>\n    <SEO title=\"Home\" />\n    <Home>\n      <Nav/>\n    </Home>\n    {/* <Test /> */}\n\n  </Layout>\n)\n\n\nconst Test = props => {\n  const handleDragEnter = e => {\n    console.log(\"handleDragEnter\")\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragLeave = e => {\n    console.log(\"handleDragLeave\")\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDragOver = e => {\n    console.log(\"handleDragOver\")\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  const handleDrop = e => {\n    console.log(\"handleDrop\")\n    e.preventDefault();\n    e.stopPropagation();\n  };\n  return (\n    <div\n      className={\"drag-drop-zone\"}\n      onDrop={e => handleDrop(e)}\n      onDragOver={e => handleDragOver(e)}\n      onDragEnter={e => handleDragEnter(e)}\n      onDragLeave={e => handleDragLeave(e)}\n    >\n      <p>Drag files here to upload</p>\n    </div>\n  );\n};\n\n\nexport default IndexPage\n","require(\"core-js/modules/es6.array.is-array\");\n\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames[\"default\"] = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"nav-module--wrap--3M_SG\"};","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n"],"sourceRoot":""}